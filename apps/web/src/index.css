@import "tailwindcss";
@import "./styles/touchTargets.css";
@import "./styles/tokens.css";

@layer base {
  :root {
    /* iOS Safe Area Insets defaults */
    --sat: env(safe-area-inset-top);
    --sar: env(safe-area-inset-right);
    --sab: env(safe-area-inset-bottom);
    --sal: env(safe-area-inset-left);

    /* Aperion Runtime Theme Variables */
    /* These can be toggled for light/dark/slate themes */
    --surface: hsl(210, 24%, 7%);
    --surface-elevated: hsl(210, 20%, 12%);
    --surface-glass: rgba(255, 255, 255, 0.05);
    --text: hsl(0, 0%, 100%);
    --text-muted: hsl(0, 0%, 60%);
    --text-subtle: hsl(0, 0%, 40%);
    --accent: hsl(156, 55%, 47%); /* Emerald */
    --accent-hover: hsl(156, 55%, 55%);
    --border: rgba(255, 255, 255, 0.1);
    --border-subtle: rgba(255, 255, 255, 0.05);
  }

  html {
    @apply h-full w-full bg-black text-white antialiased;
    /* Prevent bouncy scrolling on iOS for a native app feel */
    overscroll-behavior-y: none;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply h-full w-full overflow-hidden;
    background-image: linear-gradient(
      to bottom right,
      #1e293b,
      #374151,
      #000000
    ); /* from-slate-900 via-gray-900 to-black */
    /* Use safe area padding variables if needed globally,
       but usually better applied to specific containers */
  }
}

@layer utilities {
  /* High-performance Glassmorphism */
  .glass {
    @apply bg-white/10 backdrop-blur-md border border-white/10;
  }

  .glass-dark {
    @apply bg-black/40 backdrop-blur-md md:backdrop-blur-xl border border-white/5;
  }

  /* Accessibility: Focus Utilities */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:ring-offset-2 focus:ring-offset-black;
  }

  .focus-ring-visible {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500/50 focus-visible:ring-offset-2 focus-visible:ring-offset-black;
  }

  /* Hide scrollbar for clean UI */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Prism token styling (monochrome, Tailwind-based) */
  .aperion-prism {
    @apply font-mono text-gray-100;
  }

  .aperion-prism .token.comment,
  .aperion-prism .token.prolog,
  .aperion-prism .token.doctype,
  .aperion-prism .token.cdata {
    @apply text-gray-400 italic;
  }

  .aperion-prism .token.punctuation {
    @apply text-gray-300;
  }

  .aperion-prism .token.property,
  .aperion-prism .token.tag,
  .aperion-prism .token.constant,
  .aperion-prism .token.symbol,
  .aperion-prism .token.deleted,
  .aperion-prism .token.boolean,
  .aperion-prism .token.number,
  .aperion-prism .token.operator,
  .aperion-prism .token.entity,
  .aperion-prism .token.url,
  .aperion-prism .token.variable {
    @apply text-gray-200;
  }

  .aperion-prism .token.selector,
  .aperion-prism .token.attr-name,
  .aperion-prism .token.string,
  .aperion-prism .token.char,
  .aperion-prism .token.builtin,
  .aperion-prism .token.inserted,
  .aperion-prism .token.atrule,
  .aperion-prism .token.attr-value,
  .aperion-prism .token.function,
  .aperion-prism .token.class-name,
  .aperion-prism .token.keyword,
  .aperion-prism .token.regex,
  .aperion-prism .token.important {
    @apply text-gray-100 font-semibold;
  }
}
